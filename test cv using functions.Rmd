---
title: "Curriculum Vitae"
author: "Aaron Conway RN PhD"
date: "`r format(Sys.time(), '%d %B %Y')`"
fontsize: 12pt
output: word_document
params:
  orcid.id: "0000-0002-9583-8636"
  years.since: 2010
  spacer: ', '
  journal.only: "No"
  order: "dyear"
  max.authors: 3
  style: "APA"
  bullets: 'numbers'
  extra.order: 'None' # alternative is 'ARC' style
  flag.OA: TRUE
  bold.author: TRUE
---

```{r setup, include=FALSE}

library(cvR)
x  <- "dc7ea3ae-38fd-4188-8bd1-1db4215ea139"
Sys.setenv(ORCID_TOKEN=x, orcid_email="aaron.conway@utoronto.ca")
knitr::opts_chunk$set(echo = FALSE, warnings=FALSE, comment='')
```



```{r list.papers, results='asis'}
results <- my.orcid(params$orcid.id) # single
  
# blurb at top
cat('Publication report for ', results$name, '.\n', sep='') # single
cat('  \n') # line break
cat('Earliest year of papers =', params$years.since, '.\n', sep='')
papers.sorted = 'bottom'
if(params$order=='dyear'){papers.sorted = 'top'}
if(params$order=='journal'){papers.sorted = 'journal name'}
cat('Most recent papers at ', papers.sorted, '.\n', sep='')
if(params$journal.only=='Yes'){cat('Journals only.\n', sep='')} 
if(params$flag.OA==TRUE & sum(results$oa.warning)==0){cat("Open Access publications highlighted using a '+' at the start of the reference.\n", sep='')} 
if(params$flag.OA==TRUE & sum(results$oa.warning) > 0){cat("Open Access data did not load; try again.\n", sep='')} 
cat('  \n') # line break

papers = my.filter(results, max.authors=params$max.authors, order=params$order,
                   journal.only=params$journal.only, years.since=params$years.since,
                   spacer=params$spacer, bold.author = params$bold.author)


print.papers(papers)
cvR::
```


